<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascript | 前端笔记</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="前端笔记">
    
    <link rel="preload" href="/fe-note/assets/css/0.styles.25acf8fa.css" as="style"><link rel="preload" href="/fe-note/assets/js/app.fda609e3.js" as="script"><link rel="preload" href="/fe-note/assets/js/2.adbb8f1f.js" as="script"><link rel="preload" href="/fe-note/assets/js/17.29a2b901.js" as="script"><link rel="prefetch" href="/fe-note/assets/js/10.7c99cfde.js"><link rel="prefetch" href="/fe-note/assets/js/11.8bd3a2af.js"><link rel="prefetch" href="/fe-note/assets/js/12.4bc0f83b.js"><link rel="prefetch" href="/fe-note/assets/js/13.25909ba6.js"><link rel="prefetch" href="/fe-note/assets/js/14.de51f7f0.js"><link rel="prefetch" href="/fe-note/assets/js/15.4868d59b.js"><link rel="prefetch" href="/fe-note/assets/js/16.e18a46a0.js"><link rel="prefetch" href="/fe-note/assets/js/18.e279857c.js"><link rel="prefetch" href="/fe-note/assets/js/19.4c88f854.js"><link rel="prefetch" href="/fe-note/assets/js/20.ce6995a9.js"><link rel="prefetch" href="/fe-note/assets/js/21.addcd7f1.js"><link rel="prefetch" href="/fe-note/assets/js/22.d4353bb7.js"><link rel="prefetch" href="/fe-note/assets/js/23.1438e6a2.js"><link rel="prefetch" href="/fe-note/assets/js/24.107ea0bd.js"><link rel="prefetch" href="/fe-note/assets/js/25.72be267b.js"><link rel="prefetch" href="/fe-note/assets/js/3.8d184dc8.js"><link rel="prefetch" href="/fe-note/assets/js/4.dea5ec33.js"><link rel="prefetch" href="/fe-note/assets/js/5.621749f4.js"><link rel="prefetch" href="/fe-note/assets/js/6.3561fa1f.js"><link rel="prefetch" href="/fe-note/assets/js/7.f5e4f548.js"><link rel="prefetch" href="/fe-note/assets/js/8.eabb77dd.js"><link rel="prefetch" href="/fe-note/assets/js/9.e2a8ef19.js">
    <link rel="stylesheet" href="/fe-note/assets/css/0.styles.25acf8fa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-note/" class="home-link router-link-active"><!----> <span class="site-name">前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-note/HTML/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/fe-note/javascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  javascript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-note/框架/Vue/" class="nav-link">
  Vue
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-note/HTML/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/fe-note/javascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  javascript
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-note/框架/Vue/" class="nav-link">
  Vue
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-note/javascript/" aria-current="page" class="active sidebar-link">javascript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-note/javascript/#什么是深拷贝和浅拷贝" class="sidebar-link">什么是深拷贝和浅拷贝</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#栈内存与堆内存" class="sidebar-link">栈内存与堆内存</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#箭头函数和普通函数有什么区别" class="sidebar-link">箭头函数和普通函数有什么区别</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#new操作符做了什么事情" class="sidebar-link">new操作符做了什么事情</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下eventloop" class="sidebar-link">说一下eventloop</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#什么是闭包-闭包的作用是什么" class="sidebar-link">什么是闭包，闭包的作用是什么？</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#promise是什么" class="sidebar-link">Promise是什么?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#set-和-map有什么区别" class="sidebar-link">Set 和 Map有什么区别？</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#map和foreach有什么区别" class="sidebar-link">map和foreach有什么区别？</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下防抖和节流" class="sidebar-link">说一下防抖和节流?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下常见的检测数据类型的几种方式" class="sidebar-link">说一下常见的检测数据类型的几种方式?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下slice-splice-split-的区别" class="sidebar-link">说一下slice splice split 的区别?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下怎么把类数组转换为数组" class="sidebar-link">说一下怎么把类数组转换为数组?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下数组如何去重-你有几种方法" class="sidebar-link">说一下数组如何去重,你有几种方法?</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下怎么取出数组最多的一项" class="sidebar-link">说一下怎么取出数组最多的一项？</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下json-stringify有什么缺点" class="sidebar-link">说一下JSON.stringify有什么缺点？</a></li><li class="sidebar-sub-header"><a href="/fe-note/javascript/#说一下for-in-和-for-of的区别" class="sidebar-link">说一下for...in 和 for...of的区别?</a></li></ul></li><li><a href="/fe-note/javascript/原型和原型链.html" class="sidebar-link">原型和原型链</a></li><li><a href="/fe-note/javascript/继承.html" class="sidebar-link">继承</a></li><li><a href="/fe-note/javascript/执行上下文.html" class="sidebar-link">执行上下文</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> javascript</h1> <h2 id="什么是深拷贝和浅拷贝"><a href="#什么是深拷贝和浅拷贝" class="header-anchor">#</a> 什么是深拷贝和浅拷贝</h2> <h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <p>将一个对象从内存中完整的拷贝一份，并在堆内存中开辟一块新的区域放进去，修改新的对象不会对老对象造成影响</p> <ol><li>JSON.stringify</li></ol> <p><code>JSON.stringify()</code> 进行深拷贝有弊端：忽略 <code>value</code> 为 <code>function</code> <code>undefind</code> <code>
symbol</code> ;有循环引用会报错;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>递归实现</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">deepCopy</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">_copy</span> <span class="token operator">=</span> <span class="token parameter">o</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>o <span class="token operator">||</span> <span class="token keyword">typeof</span> o <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> o<span class="token punctuation">;</span>
    <span class="token keyword">const</span> hasObj <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hasObj<span class="token punctuation">)</span> <span class="token keyword">return</span> hasObj<span class="token punctuation">;</span>
    <span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">_copy</span><span class="token punctuation">(</span>o<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">_copy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h3> <p>只拷贝对象的一层数据，在深层次的引用类型将只会拷贝引用</p> <ol><li>Object.assets()</li> <li>es6拓展运算符</li></ol> <h2 id="栈内存与堆内存"><a href="#栈内存与堆内存" class="header-anchor">#</a> 栈内存与堆内存</h2> <h3 id="栈内存"><a href="#栈内存" class="header-anchor">#</a> 栈内存</h3> <p>主要用于存储各种基本类型的变量，包括 <code>Boolean</code> <code>Number</code> <code>String</code> <code>Undefined</code> <code>Null</code> ，以及对象变量的指针（地址值）。栈内存中的变量一般都是已知大小或者有范围上限的，算作一种简单存储。</p> <h3 id="堆内存"><a href="#堆内存" class="header-anchor">#</a> 堆内存</h3> <p>主要负责像对象 <code>Object</code> 这种引用类型的存储，对于大小这方面，一般都是未知的。</p> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>一般来说栈内存是线性有序存储，容量小，系统分配效率高。而堆内存首先要在堆内存新分配存储区域，之后又要把指针（地址值）存储到栈内存中，效率相对就要低一些了。</p> <p>垃圾回收方面，栈内存变量基本上用完就回收了，而推内存中的变量因为存在很多不确定的引用，只有当所有指向堆内存的指针全部销毁之后才会被垃圾回收。所以，使用匿名函数和当调用完函数之后把储存在栈内存中的指针赋值为null也是一种优化性能防止内存泄漏的一种方式。</p></div> <h2 id="箭头函数和普通函数有什么区别"><a href="#箭头函数和普通函数有什么区别" class="header-anchor">#</a> 箭头函数和普通函数有什么区别</h2> <ol><li><strong>外形不同</strong>：箭头函数使用箭头定义。</li> <li><strong>匿名函数</strong>：普通函数可以是匿名函数，也可以是具名函数，箭头函数都是匿名函数。</li> <li><strong>构造函数</strong>：普通函数可以用做构造函数，使用new创建对象实例，箭头函数不能用作构造函数，它没有 <code>prototype</code> 属性。</li> <li><strong>this指向</strong>：普通函数的 <code>this</code> 指向它的调用者，而箭头函数的 <code>this</code> 指向它定义时执行上下文的this，且不会改变。</li> <li><strong>arguments</strong>: 普通函数调用后会有一个arguments对象可以取到传递的参数，而箭头函数没有。</li> <li><strong>Generator函数</strong>：箭头函数不能用作Generator函数,不能使用yeild关键字。</li></ol> <h2 id="new操作符做了什么事情"><a href="#new操作符做了什么事情" class="header-anchor">#</a> new操作符做了什么事情</h2> <ol><li>首先创建了一个新对象</li> <li>设置原型，将对象的原型设置为函数的 <code>prototype</code> 对象</li> <li>让函数的 <code>this</code> 指向这个对象，执行构造函数的代码（为这个新对象添加属性）</li> <li>判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">newFn</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="说一下eventloop"><a href="#说一下eventloop" class="header-anchor">#</a> 说一下eventloop</h2> <h2 id="什么是闭包-闭包的作用是什么"><a href="#什么是闭包-闭包的作用是什么" class="header-anchor">#</a> 什么是闭包，闭包的作用是什么？</h2> <h2 id="promise是什么"><a href="#promise是什么" class="header-anchor">#</a> Promise是什么?</h2> <h2 id="set-和-map有什么区别"><a href="#set-和-map有什么区别" class="header-anchor">#</a> Set 和 Map有什么区别？</h2> <h2 id="map和foreach有什么区别"><a href="#map和foreach有什么区别" class="header-anchor">#</a> map和foreach有什么区别？</h2> <h2 id="说一下防抖和节流"><a href="#说一下防抖和节流" class="header-anchor">#</a> 说一下防抖和节流?</h2> <h2 id="说一下常见的检测数据类型的几种方式"><a href="#说一下常见的检测数据类型的几种方式" class="header-anchor">#</a> 说一下常见的检测数据类型的几种方式?</h2> <ul><li><code>typeof</code> : 数组、对象、null返回的都是object，其他正常。</li> <li>instanceof: 只能判断引用类型，不能判断基本数据类型</li> <li>constructor：<code>obj.__proto__.constrocutr</code>，可以判断基本类型中的 number string boolean symbol。</li> <li>Object.prototype.toString.call(): 可以判断所有类型。</li></ul> <h2 id="说一下slice-splice-split-的区别"><a href="#说一下slice-splice-split-的区别" class="header-anchor">#</a> 说一下slice splice split 的区别?</h2> <h2 id="说一下怎么把类数组转换为数组"><a href="#说一下怎么把类数组转换为数组" class="header-anchor">#</a> 说一下怎么把类数组转换为数组?</h2> <h2 id="说一下数组如何去重-你有几种方法"><a href="#说一下数组如何去重-你有几种方法" class="header-anchor">#</a> 说一下数组如何去重,你有几种方法?</h2> <ol><li>Set</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">,</span> <span class="token string">'null'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, '1', 'true', 'null', 'undefined', 'a', true, false, null, undefined]</span>
</code></pre></div><ol start="2"><li>循环用map记录是否已经存在</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">,</span> <span class="token string">'null'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, '1', 'true', 'null', 'undefined', 'a', true, false, null, undefined]</span>
</code></pre></div><ol start="3"><li>循环用indexOf或includee判断是否已经存在</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">,</span> <span class="token string">'null'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 或者 list.includes(item)</span>
      list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, '1', 'true', 'null', 'undefined', 'a', true, false, null, undefined]</span>
</code></pre></div><ol start="4"><li>上面的循环可以换成filter或者reduce</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">,</span> <span class="token string">'null'</span><span class="token punctuation">,</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 或者 arr.slice(0, index).includes(item)</span>
      list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 或者</span>
  <span class="token comment">// return arr.reduce((list, item) =&gt; {</span>
  <span class="token comment">//   if (list.indexOf(item) === -1) { // 或者 list.includes(item)</span>
  <span class="token comment">//     list.push(item);</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// }, []);</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, '1', 'true', 'null', 'undefined', 'a', true, false, null, undefined]</span>
</code></pre></div><h2 id="说一下怎么取出数组最多的一项"><a href="#说一下怎么取出数组最多的一项" class="header-anchor">#</a> 说一下怎么取出数组最多的一项？</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> maxItem<span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>maxItem<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    maxItem <span class="token operator">=</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="说一下json-stringify有什么缺点"><a href="#说一下json-stringify有什么缺点" class="header-anchor">#</a> 说一下JSON.stringify有什么缺点？</h2> <ol><li>Date对象会转成字符串</li> <li>正则表达式、Error对象会转成空对象</li> <li>函数和undefined会丢失；</li> <li>NaN、Infinity和-Infinity，会变成null</li> <li>只能序列化对象的可枚举的自有属性，例如: 如果obj中的对象是有构造函数生成的，会丢失构造函数prototype上的属性方法。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1655795895262</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">reg</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">err</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">nan</span><span class="token operator">:</span> <span class="token number">NaN</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inf</span><span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inf1</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">Infinity</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {&quot;date&quot;:&quot;2022-06-21T07:18:15.262Z&quot;,&quot;reg&quot;:{},&quot;err&quot;:{},&quot;nan&quot;:null,&quot;inf&quot;:null,&quot;inf1&quot;:null}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {&quot;a&quot;:1}</span>
</code></pre></div><h2 id="说一下for-in-和-for-of的区别"><a href="#说一下for-in-和-for-of的区别" class="header-anchor">#</a> 说一下for...in 和 for...of的区别?</h2> <p>for...of遍历获取的是对象的键值, for...in获取的是对象的键名;
for...in会遍历对象的整个原型链, 性能非常差不推荐使用,而for...of只遍历当前对象不会遍历原型链;
对于数组的遍历,for...in会返回数组中所有可枚举的属性(包括原型链上可枚举的属性),for...of只返回数组的下标对应的属性值;
总结：for...in循环主要是为了遍历对象而生,不适用遍历数组; for....of循环可以用来遍历数组、类数组对象、字符串、Set、Map以及Generator对象</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/fe-note/javascript/原型和原型链.html">
        原型和原型链
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-note/assets/js/app.fda609e3.js" defer></script><script src="/fe-note/assets/js/2.adbb8f1f.js" defer></script><script src="/fe-note/assets/js/17.29a2b901.js" defer></script>
  </body>
</html>
